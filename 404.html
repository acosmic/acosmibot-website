<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Redirecting - Acosmibot</title>
    <script>
      // GitHub Pages SPA redirect handler
      // Redirects /server/* paths to SPA shell while preserving the route

      (function() {
        const path = window.location.pathname;
        const search = window.location.search;

        console.log('404 handler - path:', path);

        // Only redirect /server/ paths to the SPA
        if (path.startsWith('/server/') && path !== '/server/index.html') {
          // Store the original path in sessionStorage
          const fullPath = path + search;
          sessionStorage.setItem('spa_redirect', fullPath);

          console.log('Redirecting to SPA with path:', fullPath);

          // Redirect to SPA shell
          window.location.replace('/server/index.html');
        } else {
          // For other 404s, show a proper 404 page
          document.write('<h1>404 - Page Not Found</h1>');
          document.write('<p>The page you are looking for does not exist.</p>');
          document.write('<p><a href="/">Go to homepage</a></p>');
        }
      })();
    </script>
</head>
<body>
    <noscript>
        <h1>404 - Page Not Found</h1>
        <p>The page you are looking for does not exist.</p>
        <p><a href="/">Go to homepage</a></p>
    </noscript>
</body>
</html>
